!function(){let e=!1,n=!1,t=!1,o=!1,i=!1,a=0,r=null,l=null,s=null;const c=2e3,u=500,d={interval:100,pauseAfterClicks:100,pauseDuration:2e3},g=100;let f=0,m=!1;async function p(){if(e)try{const e=App.game.breeding.queueList(),n=App.game.breeding.queueSlots();if(0===e.length){let e=BreedingController.viewSortedFilteredList();if(e&&0!==e.length||(BreedingController.openBreedingModal(),await new Promise((e=>setTimeout(e,u))),e=BreedingController.viewSortedFilteredList()),e?.length>0){let t=0;for(;App.game.breeding.queueList().length<n&&t<e.length;){const n=e[t];n.isHatchable()&&App.game.breeding.addPokemonToHatchery(n),t++}}$("#breedingModal").modal("hide")}else $("#breedingModal").modal("hide")}catch(e){}}function y(){if(!n||m)return void(i=!1);const e=performance.now();if(e-a>=d.interval){a=e,f++;const t=App.game.gameState;try{t===GameConstants.GameState.fighting&&"function"==typeof Battle.clickAttack?Battle.clickAttack():t===GameConstants.GameState.gym&&"function"==typeof GymBattle.clickAttack?GymBattle.clickAttack():t===GameConstants.GameState.dungeon&&"function"==typeof DungeonRunner.handleInteraction?DungeonRunner.handleInteraction():t===GameConstants.GameState.temporaryBattle&&"function"==typeof TemporaryBattleBattle.clickAttack&&TemporaryBattleBattle.clickAttack()}catch(e){return void D(!1)}if(f>=d.pauseAfterClicks)return m=!0,void setTimeout((()=>{m=!1,f=0,n?(a=performance.now(),r=requestAnimationFrame(y)):i=!1}),d.pauseDuration)}n&&!m?r=requestAnimationFrame(y):i=!1}function b(){return DungeonRunner.map.playerPosition()||null}function h(e,n){const t=b();if(!t)return null;for(let o=0;o<e.length;o++)for(let i=0;i<e[o].length;i++){const a=e[o][i];if(!a)continue;if(("function"==typeof a.type?a.type():a.type)===n)return{x:i,y:o,floor:t.floor}}return null}function v(e){if(!e||0===e.length)return!1;const n=b(),t=e[0];if(n&&n.x===t.x&&n.y===t.y&&n.floor===t.floor)return!1;return!!DungeonRunner.map.moveToTile(t)}function x(){if(!t)return;if("undefined"==typeof DungeonRunner||!DungeonRunner.dungeon||"function"!=typeof DungeonRunner.dungeonFinished||DungeonRunner.dungeonFinished()||!DungeonRunner.map||"function"!=typeof DungeonRunner.map.playerPosition||!DungeonRunner.map.playerPosition()||!document.getElementById("dungeonMap"))return void function(){const e=document.querySelector('button.btn-success.p-0[onclick*="DungeonRunner.initializeDungeon"]');!e||e.disabled||e.click()}();const e=b();if(!e)return;const n=function(){const e=b();if(!e||!DungeonRunner.map||"function"!=typeof DungeonRunner.map.board)return null;const n=DungeonRunner.map.board()[e.floor];return n&&Array.isArray(n)?n:null}();if(!n)return;let i=!1;if(o){const t=function(e,n){const t=b();if(!t)return[];const o=[];for(let i=0;i<e.length;i++)for(let a=0;a<e[i].length;a++){const r=e[i][a];r&&(("function"==typeof r.type?r.type():r.type)===n&&o.push({x:a,y:i,floor:t.floor}))}return o}(n,GameConstants.DungeonTileType.chest);if(t.length>0){let n=null,o=1/0;for(const i of t){const t=DungeonRunner.map.findShortestPath(e,i);t&&t.length<o&&(o=t.length,n=t)}if(n&&(i=v(n),i))return}}const a=h(n,GameConstants.DungeonTileType.boss),r=h(n,GameConstants.DungeonTileType.ladder);if(!i&&(a||r)){const n=a||r;let t=DungeonRunner.map.findShortestPath(e,n,[GameConstants.DungeonTileType.enemy]);if(t&&0!==t.length||(t=DungeonRunner.map.findShortestPath(e,n)),t&&t.length>0&&(i=v(t),i))return}const l=function(e){const n=[],t=b();if(!t)return n;for(let o=0;o<e.length;o++)for(let i=0;i<e[o].length;i++){const a=e[o][i];if(!a||a.isVisited)continue;let r=a.cssClass;"function"==typeof r&&(r=r()),"string"!=typeof r||r.includes("tile-invisible")||n.push({x:i,y:o,floor:t.floor})}return n}(n);if(!i&&l.length>0){let n=null,t=1/0;for(const o of l){const i=DungeonRunner.map.findShortestPath(e,o);i&&i.length<t&&(t=i.length,n=i)}if(n&&(i=v(n),i))return}if(function(){const e=document.querySelector(".battle-view.card-body");e&&e.click()}(),!i&&"function"==typeof DungeonRunner.map.nearbyTiles){const n=DungeonRunner.map.nearbyTiles(e);if(n&&n.length>0){const e=(s=n)&&0!==s.length?s[Math.floor(Math.random()*s.length)]:null;e&&v([e.position])}}var s}function k(){const o=document.getElementById("automation-accordion-title");if(!o)return;const i=e?"H✅":"H❌",a=n?"C✅":"C❌",r=t?"D✅":"D❌";o.textContent=`⚙️: ${i} | ${a} | ${r}`}function C(n){e=n;const t=document.getElementById("autoqueue-toggle-btn");n?(t.textContent="Hatchery: ON",t.classList.replace("btn-secondary","btn-success"),l||(l=setInterval(p,c))):(t.textContent="Hatchery: OFF",t.classList.replace("btn-success","btn-secondary"),l&&(clearInterval(l),l=null)),k()}function D(e){n=e;const t=document.getElementById("autoclicker-toggle-btn");e?i||(t.textContent="Clicker: ON",t.classList.replace("btn-secondary","btn-success"),i||!n||m||(i=!0,a=performance.now(),r=requestAnimationFrame(y))):(t.textContent="Clicker: OFF",t.classList.replace("btn-success","btn-secondary"),n=!1,m=!1,f=0,r&&(cancelAnimationFrame(r),r=null),i=!1),k()}function A(e){t=e;const n=document.getElementById("autodungeon-toggle-btn");e?(n.textContent="Dungeon: ON",n.classList.replace("btn-secondary","btn-success"),s||(s=setInterval(x,g))):(n.textContent="Dungeon: OFF",n.classList.replace("btn-success","btn-secondary"),s&&(clearInterval(s),s=null)),k()}!function(){const i=document.createElement("div");Object.assign(i.style,{position:"fixed",bottom:"10px",right:"10px",backgroundColor:"#f8f9fa",border:"1px solid #ced4da",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",fontFamily:"Arial, sans-serif",fontSize:"12px",width:"160px",zIndex:"1000"});const a=document.createElement("div");Object.assign(a.style,{backgroundColor:"#6200ea",color:"#ffffff",borderRadius:"8px 8px 0 0",padding:"5px",cursor:"pointer",textAlign:"center",fontWeight:"bold",fontSize:"14px"}),a.id="automation-accordion-title",a.textContent="⚙️: H❌ | C❌ | D❌";const r=document.createElement("div");Object.assign(r.style,{display:"none",flexDirection:"column",gap:"5px",padding:"8px"}),r.innerHTML=`\n            <button id="autoqueue-toggle-btn" class="btn btn-secondary btn-sm w-100">Hatchery: OFF</button>\n            <button id="autoclicker-toggle-btn" class="btn btn-secondary btn-sm w-100">Clicker: OFF</button>\n            <div style="display: flex; align-items: center; gap: 5px; font-size: 12px;">\n                <input type="checkbox" id="autodungeon-treasure" />\n                <label for="autodungeon-treasure" style="margin:0;" class="text-secondary">Prioritize treasure</label>\n            </div>\n            <button id="autodungeon-toggle-btn" class="btn btn-secondary btn-sm w-100">Dungeon: OFF</button>\n            <div style="display: flex; align-items: center; gap: 5px; font-size: 12px;">\n                <label for="autoclicker-interval" style="margin: 0;" class="text-secondary">Interval:</label>\n                <input id="autoclicker-interval" type="number" class="form-control form-control-sm w-100" value="${d.interval}" min="10" step="10">\n            </div>\n            <div style="text-align: right;">\n                <a href="#" id="more-info-link" style="font-size:10px; color: #6c757d;">More info</a>\n            </div>\n        `,a.addEventListener("click",(()=>{r.style.display="none"===r.style.display?"flex":"none"})),i.appendChild(a),i.appendChild(r),document.body.appendChild(i),document.getElementById("autoqueue-toggle-btn").addEventListener("click",(()=>C(!e))),document.getElementById("autoclicker-toggle-btn").addEventListener("click",(()=>D(!n))),document.getElementById("autodungeon-toggle-btn").addEventListener("click",(()=>A(!t))),document.getElementById("autoclicker-interval").addEventListener("change",(e=>{const n=parseInt(e.target.value,10);n>=10?d.interval=n:e.target.value=d.interval})),document.getElementById("autodungeon-treasure").addEventListener("change",(e=>{return n=e.target.checked,void(o=n);var n})),document.getElementById("more-info-link").addEventListener("click",(e=>{e.preventDefault(),$("#infoModal").modal("show")}));const l=document.createElement("div");l.innerHTML='\n            <div class="modal fade" id="infoModal" tabindex="-1" role="dialog" aria-labelledby="infoModalLabel" aria-hidden="true">\n                <div class="modal-dialog modal-dialog-centered" role="document">\n                    <div class="modal-content">\n                    <div class="modal-header">\n                        <h5 class="modal-title" id="infoModalLabel">Automation Features</h5>\n                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                        <span aria-hidden="true">&times;</span>\n                        </button>\n                    </div>\n                    <div class="modal-body" style="font-size:14px;">\n                        <p><strong>Auto Hatchery (H):</strong> It\'s best to list Pokémon by breeding efficiency, so you hatch the most optimal eggs first.</p>\n                        <p><strong>Auto Clicker (C):</strong> We do not recommend decreasing the click interval below 100ms as it may cause performance issues. Keep it at 100ms or above for stability.</p>\n                        <p><strong>Auto Dungeon (D):</strong> Prioritizing treasure first can be beneficial, as it often yields extra rewards. Then proceed towards the boss or unexplored areas.</p>\n                        <p><strong>Additional Tips:</strong><br>\n                        - Always ensure you have enough resources before starting these automations.<br>\n                        - Monitor performance when lowering intervals or activating multiple features.</p>\n                        <p>Code can be found here: <a href="https://github.com/diegomarty/auto-click-pokecliker" target="_blank">GitHub</a>. Suggestions and improvements are welcome!</p>\n                    </div>\n                    <div class="modal-footer">\n                        <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal">Close</button>\n                    </div>\n                    </div>\n                </div>\n            </div>',document.body.appendChild(l)}(),window.toggleAutoQueue=C,window.toggleAutoClicker=D,window.toggleAutoDungeon=A}();