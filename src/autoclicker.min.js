!function(){let e=!1,n=!1,t=!1,o=!1,r=0,i=null,l=null,u=null;const a=2e3,c=500,s=5,d=500,g={interval:100,pauseAfterClicks:100,pauseDuration:2e3},f=100;let p=0,m=!1;async function y(e=0){if("function"==typeof BreedingController.isModalOpen&&BreedingController.isModalOpen()&&e<s)return BreedingController.closeBreedingModal(),await new Promise((e=>setTimeout(e,d))),y(e+1)}function b(){l||(l=setInterval((()=>{!async function(){if(e)try{const e=App.game.breeding.queueList(),n=App.game.breeding.queueSlots();if(0===e.length){let e=BreedingController.viewSortedFilteredList();e&&0!==e.length||(BreedingController.openBreedingModal(),await new Promise((e=>setTimeout(e,c))),e=BreedingController.viewSortedFilteredList());let t=!1;if(e?.length>0){let o=0;for(;App.game.breeding.queueList().length<n&&o<e.length;){const n=e[o];n.isHatchable()&&(App.game.breeding.addPokemonToHatchery(n),t=!0),o++}}(App.game.breeding.queueList().length>=n||"function"==typeof BreedingController.isModalOpen&&BreedingController.isModalOpen())&&(BreedingController.closeBreedingModal(),await y())}else"function"==typeof BreedingController.isModalOpen&&BreedingController.isModalOpen()&&(BreedingController.closeBreedingModal(),await y())}catch(e){}}()}),a))}function h(){if(!n||m)return void(o=!1);const e=performance.now();if(e-r>=g.interval){r=e,p++;const t=App.game.gameState;try{t===GameConstants.GameState.fighting&&"function"==typeof Battle.clickAttack?Battle.clickAttack():t===GameConstants.GameState.gym&&"function"==typeof GymBattle.clickAttack?GymBattle.clickAttack():t===GameConstants.GameState.dungeon&&"function"==typeof DungeonRunner.handleInteraction&&DungeonRunner.handleInteraction()}catch(e){return void B(!1)}if(p>=g.pauseAfterClicks)return m=!0,void setTimeout((()=>{m=!1,p=0,n?(r=performance.now(),i=requestAnimationFrame(h)):o=!1}),g.pauseDuration)}n&&!m?i=requestAnimationFrame(h):o=!1}function v(){return DungeonRunner.map.playerPosition()||null}function C(e,n){const t=v();if(!t)return null;for(let o=0;o<e.length;o++)for(let r=0;r<e[o].length;r++){const i=e[o][r];if(!i)continue;if(("function"==typeof i.type?i.type():i.type)===n)return{x:r,y:o,floor:t.floor}}return null}function x(e){if(!e||0===e.length)return!1;const n=v(),t=e[0];if(n&&n.x===t.x&&n.y===t.y&&n.floor===t.floor)return!1;return!!DungeonRunner.map.moveToTile(t)}function D(){if(!t)return;if("undefined"==typeof DungeonRunner||!DungeonRunner.dungeon||"function"!=typeof DungeonRunner.dungeonFinished||DungeonRunner.dungeonFinished()||!DungeonRunner.map||"function"!=typeof DungeonRunner.map.playerPosition||!DungeonRunner.map.playerPosition()||!document.getElementById("dungeonMap")){(function(){const e=document.querySelector('button.btn-success.p-0[onclick*="DungeonRunner.initializeDungeon"]');!e||e.disabled||e.click()})();return}const e=v();if(!e)return;const n=function(){const e=v();if(!e||!DungeonRunner.map||"function"!=typeof DungeonRunner.map.board)return null;const n=DungeonRunner.map.board()[e.floor];return n&&Array.isArray(n)?n:null}();if(!n)return;const o=C(n,GameConstants.DungeonTileType.boss),r=C(n,GameConstants.DungeonTileType.ladder);let i=!1;if(o||r){const n=o||r;let t=DungeonRunner.map.findShortestPath(e,n,[GameConstants.DungeonTileType.enemy]);if(t&&0!==t.length||(t=DungeonRunner.map.findShortestPath(e,n)),t&&t.length>0&&(i=x(t),i))return}const l=function(e){const n=[],t=v();if(!t)return n;for(let o=0;o<e.length;o++)for(let r=0;r<e[o].length;r++){const i=e[o][r];if(!i||i.isVisited)continue;let l=i.cssClass;"function"==typeof l&&(l=l()),"string"!=typeof l||l.includes("tile-invisible")||n.push({x:r,y:o,floor:t.floor})}return n}(n);if(!i&&l.length>0){let n=null,t=1/0;for(const o of l){const r=DungeonRunner.map.findShortestPath(e,o);r&&r.length<t&&(t=r.length,n=r)}if(n&&(i=x(n),i))return}if(function(){const e=document.querySelector(".battle-view.card-body");e&&e.click()}(),!i&&"function"==typeof DungeonRunner.map.nearbyTiles){const n=DungeonRunner.map.nearbyTiles(e);if(n&&n.length>0){const e=(u=n)&&0!==u.length?u[Math.floor(Math.random()*u.length)]:null;e&&x([e.position])}}var u}function k(n){e=n;const t=document.getElementById("autoqueue-toggle-btn");n?(t.textContent="Queue: ON",t.classList.replace("btn-secondary","btn-success"),b()):(t.textContent="Queue: OFF",t.classList.replace("btn-success","btn-secondary"),l&&(clearInterval(l),l=null))}function B(e){n=e;const t=document.getElementById("autoclicker-toggle-btn");e?o||(t.textContent="Clicker: ON",t.classList.replace("btn-secondary","btn-success"),o||!n||m||(o=!0,r=performance.now(),i=requestAnimationFrame(h))):(t.textContent="Clicker: OFF",t.classList.replace("btn-success","btn-secondary"),n=!1,m=!1,p=0,i&&(cancelAnimationFrame(i),i=null),o=!1)}function A(e){t=e;const n=document.getElementById("autodungeon-toggle-btn");e?(n.textContent="Dungeon: ON",n.classList.replace("btn-secondary","btn-success"),u||(u=setInterval(D,f))):(n.textContent="Dungeon: OFF",n.classList.replace("btn-success","btn-secondary"),u&&(clearInterval(u),u=null))}!function(){const o=document.createElement("div");Object.assign(o.style,{position:"fixed",bottom:"10px",right:"10px",backgroundColor:"#f8f9fa",border:"1px solid #ced4da",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",padding:"8px",zIndex:"1000",fontFamily:"Arial, sans-serif",fontSize:"12px",display:"flex",flexDirection:"column",gap:"5px",width:"160px"}),o.innerHTML=`\n            <div style="text-align: center; font-weight: bold; font-size: 14px;">Automation</div>\n            <button id="autoqueue-toggle-btn" class="btn btn-secondary btn-sm">Queue: OFF</button>\n            <button id="autoclicker-toggle-btn" class="btn btn-secondary btn-sm">Clicker: OFF</button>\n            <button id="autodungeon-toggle-btn" class="btn btn-secondary btn-sm">Dungeon: OFF</button>\n            <div style="display: flex; align-items: center; gap: 5px; font-size: 12px;">\n                <label for="autoclicker-interval" style="margin: 0;">Interval:</label>\n                <input id="autoclicker-interval" type="number" class="form-control form-control-sm" value="${g.interval}" min="10" style="width: 50px;">\n            </div>\n        `,document.body.appendChild(o),document.getElementById("autoqueue-toggle-btn").addEventListener("click",(()=>k(!e))),document.getElementById("autoclicker-toggle-btn").addEventListener("click",(()=>B(!n))),document.getElementById("autodungeon-toggle-btn").addEventListener("click",(()=>A(!t))),document.getElementById("autoclicker-interval").addEventListener("change",(e=>{const n=parseInt(e.target.value,10);n>=10?g.interval=n:e.target.value=g.interval}))}(),window.toggleAutoQueue=k,window.toggleAutoClicker=B,window.toggleAutoDungeon=A}();