!function(){let e=!1,n=!1,t=!1,o=!1,i=!1,a=!1,r=0,l=null,s=null,c=null,u=null;const d=2e3,g=500,m={interval:100,pauseAfterClicks:100,pauseDuration:2e3},p=100,f=100;let b=0,y=!1;async function h(){if(e)try{const e=App.game.breeding.queueList(),n=App.game.breeding.queueSlots();if(0===e.length){let e=BreedingController.viewSortedFilteredList();if(e&&0!==e.length||(BreedingController.openBreedingModal(),await new Promise((e=>setTimeout(e,g))),e=BreedingController.viewSortedFilteredList()),e?.length>0){let t=0;for(;App.game.breeding.queueList().length<n&&t<e.length;){const n=e[t];n.isHatchable()&&App.game.breeding.addPokemonToHatchery(n),t++}}$("#breedingModal").modal("hide")}else $("#breedingModal").modal("hide")}catch(e){}}function v(){if(!n||y)return void(a=!1);const e=performance.now();if(e-r>=m.interval){r=e,b++;const t=App.game.gameState;try{t===GameConstants.GameState.fighting&&"function"==typeof Battle.clickAttack?Battle.clickAttack():t===GameConstants.GameState.gym&&"function"==typeof GymBattle.clickAttack?GymBattle.clickAttack():t===GameConstants.GameState.dungeon&&"function"==typeof DungeonRunner.handleInteraction?DungeonRunner.handleInteraction():t===GameConstants.GameState.temporaryBattle&&"function"==typeof TemporaryBattleBattle.clickAttack&&TemporaryBattleBattle.clickAttack()}catch(e){return void E(!1)}if(b>=m.pauseAfterClicks)return y=!0,void setTimeout((()=>{y=!1,b=0,n?(r=performance.now(),l=requestAnimationFrame(v)):a=!1}),m.pauseDuration)}n&&!y?l=requestAnimationFrame(v):a=!1}function x(){return DungeonRunner.map.playerPosition()||null}function k(e,n){const t=x();if(!t)return null;for(let o=0;o<e.length;o++)for(let i=0;i<e[o].length;i++){const a=e[o][i];if(!a)continue;if(("function"==typeof a.type?a.type():a.type)===n)return{x:i,y:o,floor:t.floor}}return null}function C(e){if(!e||0===e.length)return!1;const n=x(),t=e[0];if(n&&n.x===t.x&&n.y===t.y&&n.floor===t.floor)return!1;return!!DungeonRunner.map.moveToTile(t)}function D(){if(!t)return;if("undefined"==typeof DungeonRunner||!DungeonRunner.dungeon||"function"!=typeof DungeonRunner.dungeonFinished||DungeonRunner.dungeonFinished()||!DungeonRunner.map||"function"!=typeof DungeonRunner.map.playerPosition||!DungeonRunner.map.playerPosition()||!document.getElementById("dungeonMap"))return void function(){const e=document.querySelector('button.btn-success.p-0[onclick*="DungeonRunner.initializeDungeon"]');!e||e.disabled||e.click()}();const e=x();if(!e)return;const n=function(){const e=x();if(!e||!DungeonRunner.map||"function"!=typeof DungeonRunner.map.board)return null;const n=DungeonRunner.map.board()[e.floor];return n&&Array.isArray(n)?n:null}();if(!n)return;let i=!1;if(o){const t=function(e,n){const t=x();if(!t)return[];const o=[];for(let i=0;i<e.length;i++)for(let a=0;a<e[i].length;a++){const r=e[i][a];r&&(("function"==typeof r.type?r.type():r.type)===n&&o.push({x:a,y:i,floor:t.floor}))}return o}(n,GameConstants.DungeonTileType.chest);if(t.length>0){let n=null,o=1/0;for(const i of t){const t=DungeonRunner.map.findShortestPath(e,i);t&&t.length<o&&(o=t.length,n=t)}if(n&&(i=C(n),i))return}}const a=k(n,GameConstants.DungeonTileType.boss),r=k(n,GameConstants.DungeonTileType.ladder);if(!i&&(a||r)){const n=a||r;let t=DungeonRunner.map.findShortestPath(e,n,[GameConstants.DungeonTileType.enemy]);if(t&&0!==t.length||(t=DungeonRunner.map.findShortestPath(e,n)),t&&t.length>0&&(i=C(t),i))return}const l=function(e){const n=[],t=x();if(!t)return n;for(let o=0;o<e.length;o++)for(let i=0;i<e[o].length;i++){const a=e[o][i];if(!a||a.isVisited)continue;let r=a.cssClass;"function"==typeof r&&(r=r()),"string"!=typeof r||r.includes("tile-invisible")||n.push({x:i,y:o,floor:t.floor})}return n}(n);if(!i&&l.length>0){let n=null,t=1/0;for(const o of l){const i=DungeonRunner.map.findShortestPath(e,o);i&&i.length<t&&(t=i.length,n=i)}if(n&&(i=C(n),i))return}if(function(){const e=document.querySelector(".battle-view.card-body");e&&e.click()}(),!i&&"function"==typeof DungeonRunner.map.nearbyTiles){const n=DungeonRunner.map.nearbyTiles(e);if(n&&n.length>0){const e=(s=n)&&0!==s.length?s[Math.floor(Math.random()*s.length)]:null;e&&C([e.position])}}var s}function A(){if(!i)return;const e=App.game.underground.mine;if(!e||e.completed)return;App.game.underground.tools.selectedToolType=UndergroundToolType.Bomb;const n=document.querySelectorAll("#mineBody .mineSquare");n?.length&&n.forEach((e=>{App.game.underground.mine&&!App.game.underground.mine.completed&&e.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0,cancelable:!0}))}))}function w(){const o=document.getElementById("automation-accordion-title");if(!o)return;const a=e?"H✅":"H❌",r=n?"C✅":"C❌",l=t?"D✅":"D❌",s=i?"M✅":"M❌";o.textContent=`⚙️: ${a} | ${r} | ${l} | ${s}`}function B(n){e=n;const t=document.getElementById("autoqueue-toggle-btn");n?(t.textContent="Hatchery: ON",t.classList.replace("btn-secondary","btn-success"),s||(s=setInterval(h,d))):(t.textContent="Hatchery: OFF",t.classList.replace("btn-success","btn-secondary"),s&&(clearInterval(s),s=null)),w()}function E(e){n=e;const t=document.getElementById("autoclicker-toggle-btn");e?a||(t.textContent="Clicker: ON",t.classList.replace("btn-secondary","btn-success"),a||!n||y||(a=!0,r=performance.now(),l=requestAnimationFrame(v))):(t.textContent="Clicker: OFF",t.classList.replace("btn-success","btn-secondary"),n=!1,y=!1,b=0,l&&(cancelAnimationFrame(l),l=null),a=!1),w()}function F(e){t=e;const n=document.getElementById("autodungeon-toggle-btn");e?(n.textContent="Dungeon: ON",n.classList.replace("btn-secondary","btn-success"),c||(c=setInterval(D,p))):(n.textContent="Dungeon: OFF",n.classList.replace("btn-success","btn-secondary"),c&&(clearInterval(c),c=null)),w()}function I(e){i=e;const n=document.getElementById("automining-toggle-btn");e?(n.textContent="Mining: ON",n.classList.replace("btn-secondary","btn-success"),u||(u=setInterval(A,f))):(n.textContent="Mining: OFF",n.classList.replace("btn-success","btn-secondary"),u&&(clearInterval(u),u=null)),w()}!function(){const a=document.createElement("div");Object.assign(a.style,{position:"fixed",bottom:"10px",right:"10px",backgroundColor:"#f8f9fa",border:"1px solid #ced4da",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",fontFamily:"Arial, sans-serif",fontSize:"12px",width:"200px",zIndex:"2000"});const r=document.createElement("div");Object.assign(r.style,{backgroundColor:"#6200ea",color:"#ffffff",borderRadius:"8px 8px 0 0",padding:"5px",cursor:"pointer",textAlign:"center",fontWeight:"bold",fontSize:"14px"}),r.id="automation-accordion-title",r.textContent="⚙️: H❌ | C❌ | D❌ | M❌";const l=document.createElement("div");Object.assign(l.style,{display:"none",flexDirection:"column",gap:"5px",padding:"8px"}),l.innerHTML=`\n            <button id="autoclicker-toggle-btn" class="btn btn-secondary btn-sm w-100">Clicker: OFF</button>\n            <div style="display: flex; align-items: center; gap: 5px; font-size: 12px;">\n                <label for="autoclicker-interval" style="margin: 0;" class="text-secondary">Interval:</label>\n                <input id="autoclicker-interval" type="number" class="form-control form-control-sm w-100" value="${m.interval}" min="10" step="10">\n            </div>\n            <button id="autoqueue-toggle-btn" class="btn btn-secondary btn-sm w-100">Hatchery: OFF</button>\n            <div style="display: flex; align-items: center; gap: 5px; font-size: 12px;">\n                <input type="checkbox" id="autodungeon-treasure" />\n                <label for="autodungeon-treasure" style="margin:0;" class="text-secondary">Prioritize treasure</label>\n            </div>\n            <button id="autodungeon-toggle-btn" class="btn btn-secondary btn-sm w-100">Dungeon: OFF</button>\n            <button id="automining-toggle-btn" class="btn btn-secondary btn-sm w-100">Mining: OFF</button>\n            <div style="text-align: right;">\n                <a href="#" id="more-info-link" style="font-size:10px; color: #6c757d;">More info</a>\n            </div>\n        `,r.addEventListener("click",(()=>{l.style.display="none"===l.style.display?"flex":"none"})),a.appendChild(r),a.appendChild(l),document.body.appendChild(a),document.getElementById("autoqueue-toggle-btn").addEventListener("click",(()=>B(!e))),document.getElementById("autoclicker-toggle-btn").addEventListener("click",(()=>E(!n))),document.getElementById("autodungeon-toggle-btn").addEventListener("click",(()=>F(!t))),document.getElementById("automining-toggle-btn").addEventListener("click",(()=>I(!i))),document.getElementById("autoclicker-interval").addEventListener("change",(e=>{const n=parseInt(e.target.value,10);n>=10?m.interval=n:e.target.value=m.interval})),document.getElementById("autodungeon-treasure").addEventListener("change",(e=>{return n=e.target.checked,void(o=n);var n})),document.getElementById("more-info-link").addEventListener("click",(e=>{e.preventDefault(),$("#infoModal").modal("show")}));const s=document.createElement("div");s.innerHTML='\n            <div class="modal fade" id="infoModal" tabindex="-1" role="dialog" aria-labelledby="infoModalLabel" aria-hidden="true">\n                <div class="modal-dialog modal-dialog-centered" role="document">\n                    <div class="modal-content">\n                    <div class="modal-header">\n                        <h5 class="modal-title" id="infoModalLabel">Automation Features</h5>\n                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                        <span aria-hidden="true">&times;</span>\n                        </button>\n                    </div>\n                    <div class="modal-body" style="font-size:14px;">\n                        <p><strong>Auto Hatchery (H):</strong> It\'s best to list Pokémon by breeding efficiency, so you hatch the most optimal eggs first.</p>\n                        <p><strong>Auto Clicker (C):</strong> We do not recommend decreasing the click interval below 100ms as it may cause performance issues. Keep it at 100ms or above for stability.</p>\n                        <p><strong>Auto Dungeon (D):</strong> Prioritizing treasure first can be beneficial, as it often yields extra rewards. Then proceed towards the boss or unexplored areas.</p>\n                        <p><strong>Auto Mining (M):</strong> This feature is to automate the mining process. It will use the Bomb tool on every square in the mine.</p>\n                        <p><strong>Additional Tips:</strong><br>\n                        - Always ensure you have enough resources before starting these automations.<br>\n                        - Monitor performance when lowering intervals or activating multiple features.</p>\n                        <p>Code can be found here: <a href="https://github.com/diegomarty/auto-click-pokecliker" target="_blank">GitHub</a>. Suggestions and improvements are welcome!</p>\n                    </div>\n                    <div class="modal-footer">\n                        <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal">Close</button>\n                    </div>\n                    </div>\n                </div>\n            </div>',document.body.appendChild(s)}(),window.toggleAutoQueue=B,window.toggleAutoClicker=E,window.toggleAutoDungeon=F}();