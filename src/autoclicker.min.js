!function(){let e=!1,n=!1,t=!1,o=!1,i=0,r=null,l=null,a=null;const u=2e3,c=500,s=5,d=500,g={interval:100,pauseAfterClicks:100,pauseDuration:2e3},f=100;let p=0,m=!1;async function y(e=0){if("function"==typeof BreedingController.isModalOpen&&BreedingController.isModalOpen()&&e<s)return BreedingController.closeBreedingModal(),await new Promise((e=>setTimeout(e,d))),y(e+1)}function b(){l||(l=setInterval((()=>{!async function(){if(e)try{const e=App.game.breeding.queueList(),n=App.game.breeding.queueSlots();if(0===e.length){let e=BreedingController.viewSortedFilteredList();if(e&&0!==e.length||(BreedingController.openBreedingModal(),await new Promise((e=>setTimeout(e,c))),e=BreedingController.viewSortedFilteredList()),e?.length>0){let t=0;for(;App.game.breeding.queueList().length<n&&t<e.length;){const n=e[t];n.isHatchable()&&App.game.breeding.addPokemonToHatchery(n),t++}}(App.game.breeding.queueList().length>=n||"function"==typeof BreedingController.isModalOpen&&BreedingController.isModalOpen())&&(BreedingController.closeBreedingModal(),await y())}else"function"==typeof BreedingController.isModalOpen&&BreedingController.isModalOpen()&&(BreedingController.closeBreedingModal(),await y())}catch(e){}}()}),u))}function h(){if(!n||m)return void(o=!1);const e=performance.now();if(e-i>=g.interval){i=e,p++;const t=App.game.gameState;try{t===GameConstants.GameState.fighting&&"function"==typeof Battle.clickAttack?Battle.clickAttack():t===GameConstants.GameState.gym&&"function"==typeof GymBattle.clickAttack?GymBattle.clickAttack():t===GameConstants.GameState.dungeon&&"function"==typeof DungeonRunner.handleInteraction&&DungeonRunner.handleInteraction()}catch(e){return void w(!1)}if(p>=g.pauseAfterClicks)return m=!0,void setTimeout((()=>{m=!1,p=0,n?(i=performance.now(),r=requestAnimationFrame(h)):o=!1}),g.pauseDuration)}n&&!m?r=requestAnimationFrame(h):o=!1}function C(){return DungeonRunner.map.playerPosition()||null}function v(e,n){const t=C();if(!t)return null;for(let o=0;o<e.length;o++)for(let i=0;i<e[o].length;i++){const r=e[o][i];if(!r)continue;if(("function"==typeof r.type?r.type():r.type)===n)return{x:i,y:o,floor:t.floor}}return null}function x(e){if(!e||0===e.length)return!1;const n=C(),t=e[0];if(n&&n.x===t.x&&n.y===t.y&&n.floor===t.floor)return!1;return!!DungeonRunner.map.moveToTile(t)}function D(){if(!t)return;if("undefined"==typeof DungeonRunner||!DungeonRunner.dungeon||"function"!=typeof DungeonRunner.dungeonFinished||DungeonRunner.dungeonFinished()||!DungeonRunner.map||"function"!=typeof DungeonRunner.map.playerPosition||!DungeonRunner.map.playerPosition()||!document.getElementById("dungeonMap")){(function(){const e=document.querySelector('button.btn-success.p-0[onclick*="DungeonRunner.initializeDungeon"]');!e||e.disabled||e.click()})();return}const e=C();if(!e)return;const n=function(){const e=C();if(!e||!DungeonRunner.map||"function"!=typeof DungeonRunner.map.board)return null;const n=DungeonRunner.map.board()[e.floor];return n&&Array.isArray(n)?n:null}();if(!n)return;const o=v(n,GameConstants.DungeonTileType.boss),i=v(n,GameConstants.DungeonTileType.ladder);let r=!1;if(o||i){const n=o||i;let t=DungeonRunner.map.findShortestPath(e,n,[GameConstants.DungeonTileType.enemy]);if(t&&0!==t.length||(t=DungeonRunner.map.findShortestPath(e,n)),t&&t.length>0&&(r=x(t),r))return}const l=function(e){const n=[],t=C();if(!t)return n;for(let o=0;o<e.length;o++)for(let i=0;i<e[o].length;i++){const r=e[o][i];if(!r||r.isVisited)continue;let l=r.cssClass;"function"==typeof l&&(l=l()),"string"!=typeof l||l.includes("tile-invisible")||n.push({x:i,y:o,floor:t.floor})}return n}(n);if(!r&&l.length>0){let n=null,t=1/0;for(const o of l){const i=DungeonRunner.map.findShortestPath(e,o);i&&i.length<t&&(t=i.length,n=i)}if(n&&(r=x(n),r))return}if(function(){const e=document.querySelector(".battle-view.card-body");e&&e.click()}(),!r&&"function"==typeof DungeonRunner.map.nearbyTiles){const n=DungeonRunner.map.nearbyTiles(e);if(n&&n.length>0){const e=(a=n)&&0!==a.length?a[Math.floor(Math.random()*a.length)]:null;e&&x([e.position])}}var a}function k(){const o=document.getElementById("automation-accordion-title");if(!o)return;const i=e?"Q✅":"Q❌",r=n?"C✅":"C❌",l=t?"D✅":"D❌";o.textContent=`⚙️: ${i} | ${r} | ${l}`}function B(n){e=n;const t=document.getElementById("autoqueue-toggle-btn");n?(t.textContent="Queue: ON",t.classList.replace("btn-secondary","btn-success"),b()):(t.textContent="Queue: OFF",t.classList.replace("btn-success","btn-secondary"),l&&(clearInterval(l),l=null)),k()}function w(e){n=e;const t=document.getElementById("autoclicker-toggle-btn");e?o||(t.textContent="Clicker: ON",t.classList.replace("btn-secondary","btn-success"),o||!n||m||(o=!0,i=performance.now(),r=requestAnimationFrame(h))):(t.textContent="Clicker: OFF",t.classList.replace("btn-success","btn-secondary"),n=!1,m=!1,p=0,r&&(cancelAnimationFrame(r),r=null),o=!1),k()}function A(e){t=e;const n=document.getElementById("autodungeon-toggle-btn");e?(n.textContent="Dungeon: ON",n.classList.replace("btn-secondary","btn-success"),a||(a=setInterval(D,f))):(n.textContent="Dungeon: OFF",n.classList.replace("btn-success","btn-secondary"),a&&(clearInterval(a),a=null)),k()}!function(){const o=document.createElement("div");Object.assign(o.style,{position:"fixed",bottom:"10px",right:"10px",backgroundColor:"#f8f9fa",border:"1px solid #ced4da",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",fontFamily:"Arial, sans-serif",fontSize:"12px",width:"160px",zIndex:"1000"});const i=document.createElement("div");Object.assign(i.style,{backgroundColor:"#6200ea",color:"#ffffff",borderRadius:"8px 8px 0 0",padding:"5px",cursor:"pointer",textAlign:"center",fontWeight:"bold",fontSize:"14px"}),i.id="automation-accordion-title",i.textContent="⚙️: Q❌ | C❌ | D❌";const r=document.createElement("div");Object.assign(r.style,{display:"none",flexDirection:"column",gap:"5px",padding:"8px"}),r.innerHTML=`\n            <button id="autoqueue-toggle-btn" class="btn btn-secondary btn-sm w-100">Queue: OFF</button>\n            <button id="autoclicker-toggle-btn" class="btn btn-secondary btn-sm w-100">Clicker: OFF</button>\n            <button id="autodungeon-toggle-btn" class="btn btn-secondary btn-sm w-100">Dungeon: OFF</button>\n            <div style="display: flex; align-items: center; gap: 5px; font-size: 12px;">\n                <label for="autoclicker-interval" style="margin: 0;">Interval:</label>\n                <input id="autoclicker-interval" type="number" class="form-control form-control-sm w-100" value="${g.interval}" min="10" step="10">\n            </div>\n        `,i.addEventListener("click",(()=>{r.style.display="none"===r.style.display?"flex":"none"})),o.appendChild(i),o.appendChild(r),document.body.appendChild(o),document.getElementById("autoqueue-toggle-btn").addEventListener("click",(()=>B(!e))),document.getElementById("autoclicker-toggle-btn").addEventListener("click",(()=>w(!n))),document.getElementById("autodungeon-toggle-btn").addEventListener("click",(()=>A(!t))),document.getElementById("autoclicker-interval").addEventListener("change",(e=>{const n=parseInt(e.target.value,10);n>=10?g.interval=n:e.target.value=g.interval}))}(),window.toggleAutoQueue=B,window.toggleAutoClicker=w,window.toggleAutoDungeon=A}();